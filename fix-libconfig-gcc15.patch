# Fix function declarations in libconfig for GCC 15 compatibility
# GCC 15 defaults to C23 where func() means func(void), not unspecified parameters
# Old: extern int yylex(); - treated as zero parameters in C23
# New: extern int yylex(YYSTYPE *, void *); - proper function prototype
--- a/lib/grammar.y	2025-11-01 10:00:00.000000000 +0000
+++ b/lib/grammar.y	2025-11-01 10:00:00.000000000 +0000
@@ -40,8 +40,7 @@
 #include "wincompat.h"

 /* These declarations are provided to suppress compiler warnings. */
-extern int libconfig_yylex();
-extern int libconfig_yyget_lineno();
+extern int libconfig_yyget_lineno(void *);

 #define YYMALLOC libconfig_malloc

@@ -82,6 +81,11 @@ void libconfig_yyerror(void *scanner, struct parse_context *ctx,
   char *sval;
 }

+%{
+/* These declarations are provided to suppress compiler warnings. */
+extern int libconfig_yylex(YYSTYPE *, void *);
+%}
+
 %token <ival> TOK_BOOLEAN TOK_INTEGER TOK_HEX
 %token <llval> TOK_INTEGER64 TOK_HEX64
 %token <fval> TOK_FLOAT
